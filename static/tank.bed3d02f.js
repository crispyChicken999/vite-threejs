import{a as e,P as t,e as o,Q as n,f as a,h as s,w as i,o as c,p as r,q as d,s as h,i as w}from"./entry.b9628b33.js";import{E as l}from"./el-button.53b7dc95.js";const m={class:"tank-container"},p=(e=>(d("data-v-48a75216"),e=e(),h(),e))((()=>w("div",{class:"canvas-container"},[w("canvas",{id:"tank"}),w("div",{id:"info"})],-1))),y=e({__name:"tank",setup(e){const d=t().$THREE;return o({title:"Tank Playground",meta:[{hid:"description",name:"description",content:"Tank Playground"}]}),n((()=>{!function(){const e=document.querySelector("#tank"),t=new d.WebGLRenderer({antialias:!0,canvas:e});function o(e=40){return new d.PerspectiveCamera(e,2,.1,1e3)}t.setSize(1e3,500),t.setClearColor(11184810),t.shadowMap.enabled=!0;const n=o();n.position.set(8,4,10).multiplyScalar(3),n.lookAt(0,0,0);const a=new d.Scene;{const e=new d.DirectionalLight(16777215,1);e.position.set(0,20,0),a.add(e),e.castShadow=!0,e.shadow.mapSize.width=2048,e.shadow.mapSize.height=2048;const t=50;e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.top=t,e.shadow.camera.bottom=-t,e.shadow.camera.near=1,e.shadow.camera.far=50,e.shadow.bias=.001}{const e=new d.DirectionalLight(16777215,1);e.position.set(1,2,4),a.add(e)}const s=new d.PlaneGeometry(50,50),i=new d.MeshPhongMaterial({color:13404262}),c=new d.Mesh(s,i);c.rotation.x=-.5*Math.PI,c.receiveShadow=!0,a.add(c);const r=new d.Object3D;a.add(r);const h=new d.BoxGeometry(4,1,8),w=new d.MeshPhongMaterial({color:6719658}),l=new d.Mesh(h,w);l.position.y=1.4,l.castShadow=!0,r.add(l);const m=o(75);m.position.y=3,m.position.z=-6,m.rotation.y=Math.PI,l.add(m);const p=.6,y=new d.CylinderGeometry(1,1,p,36),u=new d.MeshPhongMaterial({color:8947848}),g=[[-2.3,-.4,8/3],[2.3,-.4,8/3],[-2.3,-.4,0],[2.3,-.4,0],[-2.3,-.4,-8/3],[2.3,-.4,-8/3]].map((e=>{const t=new d.Mesh(y,u);return t.position.set(...e),t.rotation.z=.5*Math.PI,t.castShadow=!0,l.add(t),t})),M=2*Math.PI,P=.5*Math.PI,S=new d.SphereGeometry(2,24,12,0,M,0,P),f=new d.Mesh(S,w);f.castShadow=!0,l.add(f),f.position.y=.5;const k=6*.2,b=new d.BoxGeometry(.1,.1,k),v=new d.Mesh(b,w),V=new d.Object3D;v.castShadow=!0,V.scale.set(5,5,5),V.position.y=.9,v.position.z=.5*k,V.add(v),l.add(V);const x=o();x.position.y=.75*.2,v.add(x);const j=new d.SphereGeometry(.5,6,4),z=new d.MeshPhongMaterial({color:65280,flatShading:!0}),A=new d.Mesh(j,z),D=new d.Object3D,G=new d.Object3D,I=new d.Object3D;A.castShadow=!0,a.add(D),D.add(G),G.position.z=16,G.position.y=8,G.add(I),I.add(A);const C=o(),E=new d.Object3D;C.position.y=1,C.position.z=-2,C.rotation.y=Math.PI,I.add(E),E.add(C);const L=new d.SplineCurve([new d.Vector2(-10,0),new d.Vector2(-5,5),new d.Vector2(0,0),new d.Vector2(5,-5),new d.Vector2(10,0),new d.Vector2(5,10),new d.Vector2(-5,10),new d.Vector2(-10,-10),new d.Vector2(-15,-8),new d.Vector2(-10,0)]),O=L.getPoints(50),q=(new d.BufferGeometry).setFromPoints(O),B=new d.LineBasicMaterial({color:16711680}),H=new d.Line(q,B);H.rotation.x=.5*Math.PI,H.position.y=.05,a.add(H);const T=new d.Vector3,W=new d.Vector2,_=new d.Vector2,F=[{cam:n,desc:"detached camera"},{cam:x,desc:"on turret looking at target"},{cam:C,desc:"near target looking at tank"},{cam:m,desc:"above back of tank"}],R=document.querySelector("#info");requestAnimationFrame((function e(o){if(o*=.001,function(e){const t=e.domElement,o=t.clientWidth,n=t.clientHeight,a=t.width!==o||t.height!==n;return a&&e.setSize(o,n,!1),a}(t)){const e=t.domElement;F.forEach((t=>{const o=t.cam;o.aspect=e.clientWidth/e.clientHeight,o.updateProjectionMatrix()}))}D.rotation.y=.27*o,I.position.y=4*Math.sin(2*o),A.rotation.x=7*o,A.rotation.y=13*o,z.emissive.setHSL(10*o%1,1,.25),z.color.setHSL(10*o%1,1,.25);const n=.05*o;L.getPointAt(n%1,W),L.getPointAt((n+.01)%1,_),r.position.set(W.x,0,W.y),r.lookAt(_.x,0,_.y),A.getWorldPosition(T),V.lookAt(T),x.lookAt(T),r.getWorldPosition(T),E.lookAt(T),g.forEach((e=>{e.rotation.x=3*o}));const s=F[.25*o%F.length|0];R.textContent=s.desc,t.render(a,s.cam),requestAnimationFrame(e)}))}()})),(e,t)=>{const o=l;return c(),a("div",m,[s(o,{onClick:t[0]||(t[0]=t=>e.$router.push("/three"))},{default:i((()=>[r("Back To ThreeJs Playground")])),_:1}),p])}}},[["__scopeId","data-v-48a75216"]]);export{y as default};
